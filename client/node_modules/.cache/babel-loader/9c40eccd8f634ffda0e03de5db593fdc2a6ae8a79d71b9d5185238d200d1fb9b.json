{"ast":null,"code":"import axios from\"axios\";axios.interceptors.response.use(null,error=>{if(error&&error.response){if(error.response.status===401){// initial call to whoami will get intercepted here and redirect, need to throw log event\n// TODO: Do something\n}// const { data } = error.response;\n// const errorPayload =\n//   data.error ||\n//   data.errors ||\n//   data.error_message ||\n//   data.error_type ||\n//   data.message;\nreturn Promise.reject(error.response);}return Promise.reject(error);});/**\n *\n * @param {*} path api endpoint\n * @returns data\n */export function apiGet(path){const token=JSON.parse(localStorage.getItem(\"token\"));let config;if(token){config={headers:{Authorization:\"Bearer \".concat(token.access),\"Content-Type\":\"application/json\"}};}else{config={headers:{\"Content-Type\":\"application/json\"}};}return axios.get(path,config);}/**\n *\n * @param {*} path api endpoint\n * @param {*} data body object for post request\n * @returns\n */export function apiPost(path,data){const token=JSON.parse(localStorage.getItem(\"token\"));let config;if(token){config={headers:{Authorization:\"Bearer \".concat(token.access),\"Content-Type\":\"application/json\"}};}else{config={headers:{\"Content-Type\":\"application/json\"}};}return axios.post(path,data,config);}/**\n *\n * @param {*} path api endpoint\n * @param {*} data  body object for path request\n * @param {*} headers  header\n * @returns\n */export function apiPatch(path,data){let headers=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const token=JSON.parse(localStorage.getItem(\"token\"));let config;if(token){config={headers:{Authorization:\"Bearer \".concat(token.access),\"Content-Type\":\"application/json\",...headers}};}else{config={headers:{\"Content-Type\":\"application/json\",...headers}};}return axios.patch(path,data,config);}/**\n *\n * @param {*} path api endpoint\n * @param {*} data body object for put request\n * @returns\n */export function apiPut(path,data){const token=JSON.parse(localStorage.getItem(\"token\"));let config;if(token){config={headers:{Authorization:\"Bearer \".concat(token.access),\"Content-Type\":\"application/json\"}};}else{config={headers:{\"Content-Type\":\"application/json\"}};}return axios.put(path,data,config);}/**\n *\n * @param {*} path api endpoint\n * @param {*} data data for params\n * @returns\n */export function apiDelete(path,data){const token=JSON.parse(localStorage.getItem(\"token\"));let config;if(token){config={headers:{Authorization:\"Bearer \".concat(token.access),\"Content-Type\":\"application/json\"}};}else{config={headers:{\"Content-Type\":\"application/json\"}};}return axios.delete(path,{...config,...data});}const instance=axios.create();export default instance;","map":{"version":3,"names":["axios","interceptors","response","use","error","status","Promise","reject","apiGet","path","token","JSON","parse","localStorage","getItem","config","headers","Authorization","concat","access","get","apiPost","data","post","apiPatch","arguments","length","undefined","patch","apiPut","put","apiDelete","delete","instance","create"],"sources":["F:/Github/magiqpad/client/src/utils/axios.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.interceptors.response.use(null, (error) => {\n\n  if (error && error.response) {\n    if (error.response.status === 401) {\n      // initial call to whoami will get intercepted here and redirect, need to throw log event\n      // TODO: Do something\n    }\n    // const { data } = error.response;\n    // const errorPayload =\n    //   data.error ||\n    //   data.errors ||\n    //   data.error_message ||\n    //   data.error_type ||\n    //   data.message;\n\n\n    return Promise.reject(error.response);\n  }\n\n  return Promise.reject(error);\n});\n/**\n *\n * @param {*} path api endpoint\n * @returns data\n */\nexport function apiGet(path) {\n\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n\n  let config;\n  if (token) {\n    config = {\n      headers: {\n        Authorization: `Bearer ${token.access}`,\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  } else {\n    config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  }\n\n  return axios.get(path, config);\n}\n/**\n *\n * @param {*} path api endpoint\n * @param {*} data body object for post request\n * @returns\n */\nexport function apiPost(path, data) {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  let config;\n  if (token) {\n    config = {\n      headers: {\n        Authorization: `Bearer ${token.access}`,\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  } else {\n    config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  }\n\n  return axios.post(path, data, config);\n}\n/**\n *\n * @param {*} path api endpoint\n * @param {*} data  body object for path request\n * @param {*} headers  header\n * @returns\n */\nexport function apiPatch(path, data, headers = {}) {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  let config;\n  if (token) {\n    config = {\n      headers: {\n        Authorization: `Bearer ${token.access}`,\n        \"Content-Type\": \"application/json\",\n        ...headers,\n      },\n    };\n  } else {\n    config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...headers,\n      },\n    };\n  }\n\n  return axios.patch(path, data, config);\n}\n/**\n *\n * @param {*} path api endpoint\n * @param {*} data body object for put request\n * @returns\n */\n\nexport function apiPut(path, data) {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  let config;\n  if (token) {\n    config = {\n      headers: {\n        Authorization: `Bearer ${token.access}`,\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  } else {\n    config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  }\n\n  return axios.put(path, data, config);\n}\n/**\n *\n * @param {*} path api endpoint\n * @param {*} data data for params\n * @returns\n */\nexport function apiDelete(path, data) {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  let config;\n  if (token) {\n    config = {\n      headers: {\n        Authorization: `Bearer ${token.access}`,\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  } else {\n    config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  }\n\n  return axios.delete(path, { ...config, ...data });\n}\n\n\n\nconst instance = axios.create();\n\nexport default instance;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}