{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import{useState,useEffect,useRef}from'react';import EditorJS from'@editorjs/editorjs';import Header from'@editorjs/header';import Delimiter from'@editorjs/delimiter';import Marker from'@editorjs/marker';import Paragraph from'editorjs-paragraph-with-alignment';import Alert from'editorjs-alert';import EditorJsColumns from'./EditorColumn/src/EditorJsColumns';import EditorJsColumnsRight from'./EditorColumn/src/EditorJsColumnsRight';import EditorJsColumnsTop from'./EditorColumn/src/EditorJsColumnsTop';import EditorOption from'./EditorOption';import TopBlockEditorOption from'./EditorOption/TopBlockEditorOption';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Editor=_ref=>{let{id,editorData,setEditorData,isRead,isMount,ejInstance}=_ref;const[init,setInit]=useState(false);useEffect(()=>{if(!ejInstance.current&&isMount){initEditor();setInit(true);}},[isMount]);const onRead=async()=>{if(ejInstance.current&&init){ejInstance.current.configuration.readOnly=isRead;await ejInstance.current.save();}};const initEditor=async()=>{let column_tools={header:Header,alert:Alert,paragraph:{class:Paragraph},rightParagraph:{class:Paragraph,config:{defaultAlignment:'right'}},dropDown:EditorOption,topDropdown:TopBlockEditorOption,delimiter:Delimiter,Marker:{class:Marker,shortcut:'CMD+SHIFT+M'}};// next define the tools in the main block\n// Warning - Dont just use main_tools - you will probably generate a circular reference\nlet main_tools={// Load Official Tools\nheader:Header,alert:Alert,paragraph:Paragraph,delimiter:Delimiter,rightParagraph:{class:Paragraph,config:{defaultAlignment:'right'}},Marker:{class:Marker,shortcut:'CMD+SHIFT+M'},columnsTop:{class:EditorJsColumnsTop,config:{tools:column_tools// IMPORTANT! ref the column_tools\n// EditorJsLibrary : EditorJS\n}},columns:{class:EditorJsColumns,config:{tools:column_tools// IMPORTANT! ref the column_tools\n// EditorJsLibrary : EditorJS\n}},columnsRight:{class:EditorJsColumnsRight,config:{tools:column_tools// IMPORTANT! ref the column_tools\n// EditorJsLibrary : EditorJS\n}}};const editor=new EditorJS({readOnly:isRead,holder:id,data:editorData,onChange:async(api,event)=>{let content=await ejInstance.current.save();const data=await api.saver.save();setEditorData(data);},autofocus:true,tools:main_tools});try{await editor.isReady;ejInstance.current=editor;}catch(reason){console.error(\"Editor.js initialization failed because of \".concat(reason));}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"20px\"},id:id,children:\" \"})});};export default Editor;","map":{"version":3,"names":["useState","useEffect","useRef","EditorJS","Header","Delimiter","Marker","Paragraph","Alert","EditorJsColumns","EditorJsColumnsRight","EditorJsColumnsTop","EditorOption","TopBlockEditorOption","jsx","_jsx","Fragment","_Fragment","Editor","_ref","id","editorData","setEditorData","isRead","isMount","ejInstance","init","setInit","current","initEditor","onRead","configuration","readOnly","save","column_tools","header","alert","paragraph","class","rightParagraph","config","defaultAlignment","dropDown","topDropdown","delimiter","shortcut","main_tools","columnsTop","tools","columns","columnsRight","editor","holder","data","onChange","api","event","content","saver","autofocus","isReady","reason","console","error","concat","children","style","marginTop"],"sources":["F:/Github/magiqpad/client/src/Components/editorComp.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect, useRef } from 'react';\nimport EditorJS from '@editorjs/editorjs';\nimport Header from '@editorjs/header';\nimport Delimiter from '@editorjs/delimiter';\nimport Marker from '@editorjs/marker';\nimport Paragraph from 'editorjs-paragraph-with-alignment';\nimport Alert from 'editorjs-alert';\nimport EditorJsColumns from './EditorColumn/src/EditorJsColumns';\nimport EditorJsColumnsRight from './EditorColumn/src/EditorJsColumnsRight';\nimport EditorJsColumnsTop from './EditorColumn/src/EditorJsColumnsTop';\nimport EditorOption from './EditorOption';\nimport TopBlockEditorOption from './EditorOption/TopBlockEditorOption';\n\nconst Editor = ({ id, editorData, setEditorData, isRead, isMount , ejInstance}) => {\n\n  const [init, setInit] = useState(false);\n\n  useEffect(() => {\n    if (!ejInstance.current && isMount) {\n      initEditor();\n      setInit(true)\n    }\n  }, [isMount]);\n\n  const onRead =async () => {\n    if(ejInstance.current && init){\n      ejInstance.current.configuration.readOnly = isRead\n     await ejInstance.current.save()\n    }\n  }\n\n  const initEditor = async () => {\n    let column_tools = {\n      header: Header,\n      alert: Alert,\n      paragraph : {\n        class : Paragraph,\n      },\n      rightParagraph : {\n        class : Paragraph,\n       config:{ defaultAlignment : 'right'}\n},\n      dropDown : EditorOption,\n      topDropdown : TopBlockEditorOption,\n      delimiter: Delimiter,\n      Marker: {\n        class: Marker,\n        shortcut: 'CMD+SHIFT+M',\n      },\n    }\n\n    // next define the tools in the main block\n    // Warning - Dont just use main_tools - you will probably generate a circular reference\n    let main_tools = {\n      // Load Official Tools\n      header: Header,\n      alert: Alert,\n      paragraph : Paragraph,\n      delimiter: Delimiter,\n      rightParagraph : {\n        class : Paragraph,\n        config:{ defaultAlignment : 'right'}\n      },\n      Marker: {\n        class: Marker,\n        shortcut: 'CMD+SHIFT+M',\n      },\n      columnsTop: {\n        class: EditorJsColumnsTop,\n        config: {\n          tools: column_tools, // IMPORTANT! ref the column_tools\n          // EditorJsLibrary : EditorJS\n        }\n      },\n      columns: {\n        class: EditorJsColumns,\n        config: {\n          tools: column_tools, // IMPORTANT! ref the column_tools\n          // EditorJsLibrary : EditorJS\n        }\n      },\n      columnsRight: {\n        class: EditorJsColumnsRight,\n        config: {\n          tools: column_tools, // IMPORTANT! ref the column_tools\n          // EditorJsLibrary : EditorJS\n        }\n      },\n    }\n\n    const editor = new EditorJS({\n      readOnly:isRead,\n      holder: id,\n      data: editorData,\n      onChange: async (api, event) => {\n        let content = await ejInstance.current.save();\n          const data = await api.saver.save()\n        setEditorData(data);\n      },\n      autofocus: true,\n      tools: main_tools,\n    });\n\n    try {\n      await editor.isReady;\n      ejInstance.current = editor;\n    } catch (reason) {\n      console.error(`Editor.js initialization failed because of ${reason}`)\n    }\n\n  };\n  return (\n    <>\n      <div style={{marginTop : \"20px\"}} id={id}> </div>\n    </>\n  );\n}\n\nexport default Editor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}