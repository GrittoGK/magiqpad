{"ast":null,"code":"export const storyIndexing=story=>{let columnType={top:'columnsTop',right:'columnsRight'};let newStory=[];let scene={scene_number:'',scene_id:'',charecters_count:'',charecters:{},character_array:[]};let columnStart=false;for(let item of story){var _item$data4,_item$data4$newCol,_item$data4$newCol$,_item$data4$newCol$$b,_item$data4$newCol$$b2,_item$data4$newCol$$b3;if((item===null||item===void 0?void 0:item.type)===columnType.top){var _item$data,_item$data$cols,_item$data$cols$,_item$data$cols$$bloc,_item$data$cols$$bloc2,_item$data$cols$$bloc3,_item$data2,_item$data2$cols,_item$data2$cols$,_item$data2$cols$$blo,_item$data2$cols$$blo2,_item$data2$cols$$blo3,_item$data2$cols$$blo4,_item$data2$cols$$blo5,_item$data3,_item$data3$cols,_item$data3$cols$,_item$data3$cols$$blo,_item$data3$cols$$blo2,_item$data3$cols$$blo3,_item$data3$cols$$blo4;if(columnStart){newStory.push(scene);scene={scene_number:'',scene_id:'',charecters_count:'',charecters:{},character_array:[]};}scene.scene_number=item===null||item===void 0?void 0:(_item$data=item.data)===null||_item$data===void 0?void 0:(_item$data$cols=_item$data.cols)===null||_item$data$cols===void 0?void 0:(_item$data$cols$=_item$data$cols[0])===null||_item$data$cols$===void 0?void 0:(_item$data$cols$$bloc=_item$data$cols$.blocks)===null||_item$data$cols$$bloc===void 0?void 0:(_item$data$cols$$bloc2=_item$data$cols$$bloc[0])===null||_item$data$cols$$bloc2===void 0?void 0:(_item$data$cols$$bloc3=_item$data$cols$$bloc2.data)===null||_item$data$cols$$bloc3===void 0?void 0:_item$data$cols$$bloc3.text;scene.charecters_count=Number((item===null||item===void 0?void 0:(_item$data2=item.data)===null||_item$data2===void 0?void 0:(_item$data2$cols=_item$data2.cols)===null||_item$data2$cols===void 0?void 0:(_item$data2$cols$=_item$data2$cols[1])===null||_item$data2$cols$===void 0?void 0:(_item$data2$cols$$blo=_item$data2$cols$.blocks)===null||_item$data2$cols$$blo===void 0?void 0:(_item$data2$cols$$blo2=_item$data2$cols$$blo[0])===null||_item$data2$cols$$blo2===void 0?void 0:(_item$data2$cols$$blo3=_item$data2$cols$$blo2.data)===null||_item$data2$cols$$blo3===void 0?void 0:(_item$data2$cols$$blo4=_item$data2$cols$$blo3.text)===null||_item$data2$cols$$blo4===void 0?void 0:(_item$data2$cols$$blo5=_item$data2$cols$$blo4.split(','))===null||_item$data2$cols$$blo5===void 0?void 0:_item$data2$cols$$blo5.length)||0);scene.scene_id=item===null||item===void 0?void 0:item.id;scene.character_array=(item===null||item===void 0?void 0:(_item$data3=item.data)===null||_item$data3===void 0?void 0:(_item$data3$cols=_item$data3.cols)===null||_item$data3$cols===void 0?void 0:(_item$data3$cols$=_item$data3$cols[1])===null||_item$data3$cols$===void 0?void 0:(_item$data3$cols$$blo=_item$data3$cols$.blocks)===null||_item$data3$cols$$blo===void 0?void 0:(_item$data3$cols$$blo2=_item$data3$cols$$blo[0])===null||_item$data3$cols$$blo2===void 0?void 0:(_item$data3$cols$$blo3=_item$data3$cols$$blo2.data)===null||_item$data3$cols$$blo3===void 0?void 0:(_item$data3$cols$$blo4=_item$data3$cols$$blo3.text)===null||_item$data3$cols$$blo4===void 0?void 0:_item$data3$cols$$blo4.split(','))||[];columnStart=true;}if((item===null||item===void 0?void 0:item.type)===columnType.right&&item!==null&&item!==void 0&&(_item$data4=item.data)!==null&&_item$data4!==void 0&&(_item$data4$newCol=_item$data4.newCol)!==null&&_item$data4$newCol!==void 0&&(_item$data4$newCol$=_item$data4$newCol[0])!==null&&_item$data4$newCol$!==void 0&&(_item$data4$newCol$$b=_item$data4$newCol$.blocks)!==null&&_item$data4$newCol$$b!==void 0&&(_item$data4$newCol$$b2=_item$data4$newCol$$b[0])!==null&&_item$data4$newCol$$b2!==void 0&&(_item$data4$newCol$$b3=_item$data4$newCol$$b2.data)!==null&&_item$data4$newCol$$b3!==void 0&&_item$data4$newCol$$b3.text&&columnStart){var _item$data5,_item$data5$newCol,_item$data5$newCol$,_item$data5$newCol$$b,_item$data5$newCol$$b2,_item$data5$newCol$$b3,_item$data6,_item$data6$newCol,_item$data6$newCol$,_item$data6$newCol$$b,_item$data6$newCol$$b2,_item$data6$newCol$$b3;scene.charecters[item===null||item===void 0?void 0:(_item$data5=item.data)===null||_item$data5===void 0?void 0:(_item$data5$newCol=_item$data5.newCol)===null||_item$data5$newCol===void 0?void 0:(_item$data5$newCol$=_item$data5$newCol[0])===null||_item$data5$newCol$===void 0?void 0:(_item$data5$newCol$$b=_item$data5$newCol$.blocks)===null||_item$data5$newCol$$b===void 0?void 0:(_item$data5$newCol$$b2=_item$data5$newCol$$b[0])===null||_item$data5$newCol$$b2===void 0?void 0:(_item$data5$newCol$$b3=_item$data5$newCol$$b2.data)===null||_item$data5$newCol$$b3===void 0?void 0:_item$data5$newCol$$b3.text]=(scene.charecters[item===null||item===void 0?void 0:(_item$data6=item.data)===null||_item$data6===void 0?void 0:(_item$data6$newCol=_item$data6.newCol)===null||_item$data6$newCol===void 0?void 0:(_item$data6$newCol$=_item$data6$newCol[0])===null||_item$data6$newCol$===void 0?void 0:(_item$data6$newCol$$b=_item$data6$newCol$.blocks)===null||_item$data6$newCol$$b===void 0?void 0:(_item$data6$newCol$$b2=_item$data6$newCol$$b[0])===null||_item$data6$newCol$$b2===void 0?void 0:(_item$data6$newCol$$b3=_item$data6$newCol$$b2.data)===null||_item$data6$newCol$$b3===void 0?void 0:_item$data6$newCol$$b3.text]||0)+1;}}newStory.push(scene);return newStory;};","map":{"version":3,"names":["storyIndexing","story","columnType","top","right","newStory","scene","scene_number","scene_id","charecters_count","charecters","character_array","columnStart","item","_item$data4","_item$data4$newCol","_item$data4$newCol$","_item$data4$newCol$$b","_item$data4$newCol$$b2","_item$data4$newCol$$b3","type","_item$data","_item$data$cols","_item$data$cols$","_item$data$cols$$bloc","_item$data$cols$$bloc2","_item$data$cols$$bloc3","_item$data2","_item$data2$cols","_item$data2$cols$","_item$data2$cols$$blo","_item$data2$cols$$blo2","_item$data2$cols$$blo3","_item$data2$cols$$blo4","_item$data2$cols$$blo5","_item$data3","_item$data3$cols","_item$data3$cols$","_item$data3$cols$$blo","_item$data3$cols$$blo2","_item$data3$cols$$blo3","_item$data3$cols$$blo4","push","data","cols","blocks","text","Number","split","length","id","newCol","_item$data5","_item$data5$newCol","_item$data5$newCol$","_item$data5$newCol$$b","_item$data5$newCol$$b2","_item$data5$newCol$$b3","_item$data6","_item$data6$newCol","_item$data6$newCol$","_item$data6$newCol$$b","_item$data6$newCol$$b2","_item$data6$newCol$$b3"],"sources":["F:/Github/magiqpad/client/src/utils/story.js"],"sourcesContent":[" export const storyIndexing = (story) => {\n   let columnType = {top : 'columnsTop', right : 'columnsRight'}\n  let newStory = []\n  let scene = {scene_number : '', scene_id : '', charecters_count : '', charecters : {}, character_array : []}\n  let columnStart = false\n\n  for(let  item of story ) {\n    if(item?.type === columnType.top) {\n      if(columnStart) {\n        newStory.push(scene) ;\n        scene = {scene_number : '', scene_id : '', charecters_count : '', charecters : {},character_array : []}\n      }\n\n      scene.scene_number = item?.data?.cols?.[0]?.blocks?.[0]?.data?.text\n      scene.charecters_count = Number(item?.data?.cols?.[1]?.blocks?.[0]?.data?.text?.split(',')?.length || 0)\n      scene.scene_id = item?.id\n      scene.character_array = item?.data?.cols?.[1]?.blocks?.[0]?.data?.text?.split(',') || []\n      columnStart =true\n    }\n\n    if(item?.type === columnType.right && item?.data?.newCol?.[0]?.blocks?.[0]?.data?.text && columnStart) {\n      scene.charecters[item?.data?.newCol?.[0]?.blocks?.[0]?.data?.text] =( scene.charecters[item?.data?.newCol?.[0]?.blocks?.[0]?.data?.text]|| 0 )+ 1 \n    }\n\n\n  }\n\n  newStory.push(scene) ;\n  return newStory\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}