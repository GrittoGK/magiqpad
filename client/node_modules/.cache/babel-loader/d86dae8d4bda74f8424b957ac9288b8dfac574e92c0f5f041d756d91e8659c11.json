{"ast":null,"code":"/**\n * Column Block for the Editor.js.\n *\n * @author Calum Knott (calum@calumk.com)\n * @copyright Calum Knott\n * @license The MIT License (MIT)\n */ /**\n * @typedef {Object} EditorJsColumnsData\n * @description Tool's input and output data format\n */import{v4 as uuidv4}from\"uuid\";import Swal from\"sweetalert2\";import icon from\"./editorjsColumns.svg\";import\"./editorjsColumns.css\";import EditorJS from'@editorjs/editorjs';// required for npm mode\nimport{tabWidth}from\"../../../utils/tabWidth\";class EditorJsColumnsTop{constructor(_ref){let{data,config,api,readOnly}=_ref;this.api=api;this.readOnly=readOnly;this.config=config||{};// console.log(\"HELLO\")\n// console.log(this.config)\n// this.config.tools\n// this.config.EditorJsLibrary !IMPORTANT\nthis._CSS={block:this.api.styles.block,wrapper:\"ce-EditorJsColumns\"};if(!this.readOnly){this.onKeyUp=this.onKeyUp.bind(this);}this._data={};this.editors={};this.colWrapper=undefined;this.editors.cols=[];this.editors.newCol=[];this.data=data;if(!Array.isArray(this.data.cols)){this.data.cols=[];this.data.newCol=[];this.editors.numberOfColumns=2;}else{this.editors.numberOfColumns=this.data.cols.length;}}static get isReadOnlySupported(){return true;}onKeyUp(e){if(e.code!==\"Backspace\"&&e.code!==\"Delete\"){return;}}get CSS(){return{settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive};}renderSettings(){const buttonTwoCols={name:\"Two Cols\",icon:\"<div>2</div>\"};const buttonThreeCols={name:\"Three Cols\",icon:\"<div>3</div>\"};const buttonRollCols={name:\"Roll Cols\",icon:\"<div>R</div>\"};const wrapper=document.createElement(\"div\");let buttonTwoCols_Button=document.createElement(\"div\");buttonTwoCols_Button.classList.add(\"cdx-settings-button\");buttonTwoCols_Button.innerHTML=buttonTwoCols.icon;let buttonThreeCols_Button=document.createElement(\"div\");buttonThreeCols_Button.classList.add(\"cdx-settings-button\");buttonThreeCols_Button.innerHTML=buttonThreeCols.icon;let buttonRollCols_Button=document.createElement(\"div\");buttonRollCols_Button.classList.add(\"cdx-settings-button\");buttonRollCols_Button.innerHTML=buttonRollCols.icon;buttonTwoCols_Button.addEventListener(\"click\",event=>{this._rollCols();});buttonThreeCols_Button.addEventListener(\"click\",event=>{this._rollCols();});buttonRollCols_Button.addEventListener(\"click\",event=>{this.api.blocks.delete(this.api.blocks.getCurrentBlockIndex());this._rollCols();});wrapper.appendChild(buttonTwoCols_Button);wrapper.appendChild(buttonThreeCols_Button);wrapper.appendChild(buttonRollCols_Button);return wrapper;}_rollCols(){this.data.cols.unshift(this.data.cols.pop());this.editors.cols.unshift(this.editors.cols.pop());this._rerender();}async _updateCols(num){// Should probably update to make number dynamic... but this will do for now\nif(num==2){if(this.editors.numberOfColumns==3){let resp=await Swal.fire({title:\"Are you sure?\",text:\"This will delete Column 3!\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, delete it!\"});if(resp.isConfirmed){this.editors.numberOfColumns=2;this.data.cols.pop();this.editors.cols.pop();this._rerender();}}}if(num==3){this.editors.numberOfColumns=3;this._rerender();// console.log(3);\n}}async _rerender(){// console.log(this.colWrapper);\nfor(let index=0;index<this.editors.cols.length;index++){this.editors.cols[index].destroy();}this.editors.cols=[];this.colWrapper.innerHTML=\"\";// console.log(\"Building the columns\");\nfor(let index=0;index<this.editors.numberOfColumns;index++){// console.log(\"Start column, \", index);\nlet col=document.createElement(\"div\");col.classList.add(\"ce-editorjsColumns_col\");col.classList.add(\"editorjs_col_\"+index);let editor_col_id=uuidv4();// console.log(\"generating: \", editor_col_id);\ncol.id=editor_col_id;this.colWrapper.appendChild(col);let editorjs_instance=new EditorJS({defaultBlock:\"paragraph\",holder:editor_col_id,tools:this.config.tools,data:this.data.cols[index],readOnly:this.readOnly,minHeight:50});this.editors.cols.push(editorjs_instance);}await this.save();}render(){// console.log(\"Generating Wrapper\");\n// console.log(this.api.blocks.getCurrentBlockIndex());\nthis.colWrapper=document.createElement(\"div\");this.colWrapper.classList.add(\"w-100\");this.colWrapper.classList.add(\"top-column\");//  for (let index = 0; index < this.editors.cols.length; index++) {\n//    this.editors.cols[index].destroy();\n//  }\n// console.log(this.editors.cols);\nthis.editors.cols=[];//empty the array of editors\n// console.log(this.editors.cols);\n// console.log(\"Building the columns\");\nfor(let index=0;index<this.editors.numberOfColumns;index++){// console.log(\"Start column, \", index);\nlet col=document.createElement(\"div\");col.classList.add(\"ce-editorjsColumns_col\");col.classList.add(\"editorjs_col_\"+index);col.classList.add(\"top-\".concat(index));let editor_col_id=uuidv4()+\" \"+\"top-1\";// console.log(\"generating: \", editor_col_id);\ncol.id=editor_col_id;if(index===0){let editorjs_instance=new EditorJS({defaultBlock:\"paragraph\",holder:editor_col_id,tools:this.config.tools,data:this.data.cols[index],readOnly:this.readOnly,minHeight:1,placeholder:'Scene Number',onchange:async(eventApi,event)=>{const data=await eventApi.saver.save();}});let editorjs_instance1=new EditorJS({defaultBlock:\"paragraph\",holder:editor_col_id,tools:this.config.tools,data:this.data.newCol[index],readOnly:this.readOnly,minHeight:1,placeholder:'Location'});let editorjs_instanc2=new EditorJS({defaultBlock:\"topDropdown\",holder:editor_col_id,tools:this.config.tools,data:this.data.newCol[index+1],readOnly:this.readOnly,minHeight:1//  placeholder : 'Current Situation'\n});this.editors.cols.push(editorjs_instance);this.editors.newCol.push(editorjs_instance1);this.editors.newCol.push(editorjs_instanc2);// this.editors.cols.push(editorjs_instance1);\n// this.editors.cols.push(editorjs_instanc2);\n// document.getElementById(editor_col_id).style.background = \"red\"\n}if(index===1){let editorjs_instance=new EditorJS({defaultBlock:\"rightParagraph\",holder:editor_col_id,tools:this.config.tools,data:this.data.cols[index],readOnly:this.readOnly,minHeight:1,placeholder:'Characters'});this.editors.cols.push(editorjs_instance);}this.colWrapper.appendChild(col);// console.log(\"End column, \", index);\n}return this.colWrapper;}async save(){if(!this.readOnly){// console.log(\"Saving\")\nfor(let index=0;index<this.editors.cols.length;index++){await this.editors.cols[index].isReady;let colData=await this.editors.cols[index].save();this.data.cols[index]=colData;}for(let index=0;index<this.editors.newCol.length;index++){await this.editors.newCol[index].isReady;let colData=await this.editors.newCol[index].save();this.data.newCol[index]=colData;}}return this.data;}static get toolbox(){return{icon:'<div>T</div>',title:\"Title\"};}}export{EditorJsColumnsTop as default};","map":{"version":3,"names":["v4","uuidv4","Swal","icon","EditorJS","tabWidth","EditorJsColumnsTop","constructor","_ref","data","config","api","readOnly","_CSS","block","styles","wrapper","onKeyUp","bind","_data","editors","colWrapper","undefined","cols","newCol","Array","isArray","numberOfColumns","length","isReadOnlySupported","e","code","CSS","settingsButton","settingsButtonActive","renderSettings","buttonTwoCols","name","buttonThreeCols","buttonRollCols","document","createElement","buttonTwoCols_Button","classList","add","innerHTML","buttonThreeCols_Button","buttonRollCols_Button","addEventListener","event","_rollCols","blocks","delete","getCurrentBlockIndex","appendChild","unshift","pop","_rerender","_updateCols","num","resp","fire","title","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","index","destroy","col","editor_col_id","id","editorjs_instance","defaultBlock","holder","tools","minHeight","push","save","render","concat","placeholder","onchange","eventApi","saver","editorjs_instance1","editorjs_instanc2","isReady","colData","toolbox","default"],"sources":["F:/Github/magiqpad/client/src/Components/EditorColumn/src/EditorJsColumnsTop.js"],"sourcesContent":["/**\n * Column Block for the Editor.js.\n *\n * @author Calum Knott (calum@calumk.com)\n * @copyright Calum Knott\n * @license The MIT License (MIT)\n */\n\n/**\n * @typedef {Object} EditorJsColumnsData\n * @description Tool's input and output data format\n */\n\n import { v4 as uuidv4 } from \"uuid\";\n import Swal from \"sweetalert2\";\n \n import icon from \"./editorjsColumns.svg\";\n import  \"./editorjsColumns.css\";\n \n import EditorJS from '@editorjs/editorjs'; // required for npm mode\nimport { tabWidth } from \"../../../utils/tabWidth\";\n \n class EditorJsColumnsTop {\n   constructor({ data, config, api, readOnly }) {\n     this.api = api;\n     this.readOnly = readOnly;\n     this.config = config || {};\n     // console.log(\"HELLO\")\n     // console.log(this.config)\n     // this.config.tools\n     // this.config.EditorJsLibrary !IMPORTANT\n \n     this._CSS = {\n       block: this.api.styles.block,\n       wrapper: \"ce-EditorJsColumns\",\n     };\n \n     if (!this.readOnly) {\n       this.onKeyUp = this.onKeyUp.bind(this);\n     }\n \n \n     this._data = {};\n \n     this.editors = {};\n \n     this.colWrapper = undefined;\n \n     this.editors.cols = [];\n     this.editors.newCol = []\n \n     this.data = data;\n \n     if (!Array.isArray(this.data.cols)) {\n       this.data.cols = [];\n       this.data.newCol = [];\n\n       this.editors.numberOfColumns = 2;\n     } else {\n       this.editors.numberOfColumns = this.data.cols.length;\n     }\n\n\n   }\n \n   static get isReadOnlySupported() {\n     return true;\n   }\n \n \n   onKeyUp(e) {\n\n\n     if (e.code !== \"Backspace\" && e.code !== \"Delete\") {\n       return;\n     }\n   }\n \n   get CSS() {\n     return {\n       settingsButton: this.api.styles.settingsButton,\n       settingsButtonActive: this.api.styles.settingsButtonActive,\n     };\n   }\n \n   renderSettings() {\n     const buttonTwoCols = {\n       name: \"Two Cols\",\n       icon: `<div>2</div>`,\n     };\n \n     const buttonThreeCols = {\n       name: \"Three Cols\",\n       icon: `<div>3</div>`,\n     };\n \n     const buttonRollCols = {\n       name: \"Roll Cols\",\n       icon: `<div>R</div>`,\n     };\n \n     const wrapper = document.createElement(\"div\");\n \n     let buttonTwoCols_Button = document.createElement(\"div\");\n     buttonTwoCols_Button.classList.add(\"cdx-settings-button\");\n     buttonTwoCols_Button.innerHTML = buttonTwoCols.icon;\n \n     let buttonThreeCols_Button = document.createElement(\"div\");\n     buttonThreeCols_Button.classList.add(\"cdx-settings-button\");\n     buttonThreeCols_Button.innerHTML = buttonThreeCols.icon;\n \n     let buttonRollCols_Button = document.createElement(\"div\");\n     buttonRollCols_Button.classList.add(\"cdx-settings-button\");\n     buttonRollCols_Button.innerHTML = buttonRollCols.icon;\n \n     buttonTwoCols_Button.addEventListener(\"click\", (event) => {\n\t\t\tthis._rollCols();\n     });\n \n     buttonThreeCols_Button.addEventListener(\"click\", (event) => {\n\t\t\tthis._rollCols();\n     });\n \n     buttonRollCols_Button.addEventListener(\"click\", (event) => {\n\t\t\tthis.api.blocks.delete(this.api.blocks.getCurrentBlockIndex())\n\t\t\tthis._rollCols();\n\t\t});\n\n \n     wrapper.appendChild(buttonTwoCols_Button);\n     wrapper.appendChild(buttonThreeCols_Button);\n     wrapper.appendChild(buttonRollCols_Button);\n \n     return wrapper;\n   }\n \n   _rollCols() {\n     this.data.cols.unshift(this.data.cols.pop());\n     this.editors.cols.unshift(this.editors.cols.pop());\n     this._rerender();\n   }\n \n   async _updateCols(num) {\n     // Should probably update to make number dynamic... but this will do for now\n     if (num == 2) {\n       if (this.editors.numberOfColumns == 3) {\n         let resp = await Swal.fire({\n           title: \"Are you sure?\",\n           text: \"This will delete Column 3!\",\n           icon: \"warning\",\n           showCancelButton: true,\n           confirmButtonColor: \"#3085d6\",\n           cancelButtonColor: \"#d33\",\n           confirmButtonText: \"Yes, delete it!\",\n         });\n \n         if (resp.isConfirmed) {\n           this.editors.numberOfColumns = 2;\n           this.data.cols.pop();\n           this.editors.cols.pop();\n           this._rerender();\n         }\n       }\n     }\n     if (num == 3) {\n       this.editors.numberOfColumns = 3;\n       this._rerender();\n       // console.log(3);\n     }\n   }\n \n   async _rerender() {\n     // console.log(this.colWrapper);\n \n     for (let index = 0; index < this.editors.cols.length; index++) {\n       this.editors.cols[index].destroy();\n     }\n     this.editors.cols = [];\n \n     this.colWrapper.innerHTML = \"\";\n \n     // console.log(\"Building the columns\");\n \n     for (let index = 0; index < this.editors.numberOfColumns; index++) {\n       // console.log(\"Start column, \", index);\n       let col = document.createElement(\"div\");\n       col.classList.add(\"ce-editorjsColumns_col\");\n       col.classList.add(\"editorjs_col_\" + index);\n \n       let editor_col_id = uuidv4();\n       // console.log(\"generating: \", editor_col_id);\n       col.id = editor_col_id;\n \n       this.colWrapper.appendChild(col);\n \n       let editorjs_instance = new EditorJS({\n         defaultBlock: \"paragraph\",\n         holder: editor_col_id,\n         tools: this.config.tools,\n         data: this.data.cols[index],\n         readOnly: this.readOnly,\n         minHeight: 50,\n       });\n \n       this.editors.cols.push(editorjs_instance);\n     }\n     await this.save();\n\n   }\n \n   render() {\n     // console.log(\"Generating Wrapper\");\n \n     // console.log(this.api.blocks.getCurrentBlockIndex());\n\n \n     this.colWrapper = document.createElement(\"div\");\n     this.colWrapper.classList.add(\"w-100\");\n     this.colWrapper.classList.add(\"top-column\");\n\n \n    //  for (let index = 0; index < this.editors.cols.length; index++) {\n    //    this.editors.cols[index].destroy();\n    //  }\n\n \n     // console.log(this.editors.cols);\n     this.editors.cols = []; //empty the array of editors\n     // console.log(this.editors.cols);\n \n     // console.log(\"Building the columns\");\n \n     for (let index = 0; index < this.editors.numberOfColumns; index++) {\n       // console.log(\"Start column, \", index);\n       let col = document.createElement(\"div\");\n       col.classList.add(\"ce-editorjsColumns_col\");\n       col.classList.add(\"editorjs_col_\" + index);\n       col.classList.add(`top-${index}`)\n\n \n       let editor_col_id = uuidv4() + \" \" + \"top-1\";\n       // console.log(\"generating: \", editor_col_id);\n       col.id = editor_col_id;\n \n       \n\n       if(index === 0) {\n\n        \n        let editorjs_instance = new EditorJS({\n          defaultBlock: \"paragraph\",\n          holder: editor_col_id,\n          tools: this.config.tools,\n          data: this.data.cols[index],\n          readOnly: this.readOnly,\n          minHeight: 1,\n          placeholder: 'Scene Number',\n          onchange :async (eventApi,event) => {\n            const data = await eventApi.saver.save()\n\n\n          }\n\n        });\n\n        \n        let editorjs_instance1 = new EditorJS({\n         defaultBlock: \"paragraph\",\n         holder: editor_col_id,\n         tools: this.config.tools,\n         data: this.data.newCol[index],\n         readOnly: this.readOnly,\n         minHeight: 1,\n         placeholder: 'Location',\n   \n       });\n       \n       let editorjs_instanc2 = new EditorJS({\n         defaultBlock: \"topDropdown\",\n         holder: editor_col_id,\n         tools: this.config.tools,\n         data: this.data.newCol[index+1],\n         readOnly: this.readOnly,\n         minHeight: 1,\n       \n        //  placeholder : 'Current Situation'\n \n       });\n\n       \n  \n        this.editors.cols.push(editorjs_instance);\n       this.editors.newCol.push(editorjs_instance1)\n       this.editors.newCol.push(editorjs_instanc2)\n        // this.editors.cols.push(editorjs_instance1);\n        // this.editors.cols.push(editorjs_instanc2);\n        // document.getElementById(editor_col_id).style.background = \"red\"\n \n       }\n       if(index === 1) {\n\n        let editorjs_instance = new EditorJS({\n          defaultBlock: \"rightParagraph\",\n          holder: editor_col_id,\n          tools: this.config.tools,\n          data: this.data.cols[index],\n          readOnly: this.readOnly,\n          minHeight: 1,\n          placeholder : 'Characters'\n        });\n     \n        this.editors.cols.push(editorjs_instance);\n\n\n       }\n\n       this.colWrapper.appendChild(col);\n\n\n\n \n     \n\n\n       // console.log(\"End column, \", index);\n     }\n     return this.colWrapper;\n   }\n \n   async save() {\n     if(!this.readOnly){\n\n\n       // console.log(\"Saving\")\n       for (let index = 0; index < this.editors.cols.length; index++) {\n        await this.editors.cols[index].isReady\n         let colData = await this.editors.cols[index].save();\n         this.data.cols[index] = colData;\n       }\n\n       for (let index = 0; index < this.editors.newCol.length; index++) {\n        await this.editors.newCol[index].isReady\n\n        let colData = await this.editors.newCol[index].save();\n        this.data.newCol[index] = colData;\n      }\n\n\n     }\n\n     return this.data;\n   }\n \n   static get toolbox() {\n     return {\n       icon: '<div>T</div>',\n       title: \"Title\",\n     };\n   }\n }\n \n export { EditorJsColumnsTop as default };\n "],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,GANA,CAQA;AACA;AACA;AACA,GAEC,OAASA,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CACnC,MAAO,CAAAC,IAAI,KAAM,aAAa,CAE9B,MAAO,CAAAC,IAAI,KAAM,uBAAuB,CACxC,MAAQ,uBAAuB,CAE/B,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CAAE;AAC5C,OAASC,QAAQ,KAAQ,yBAAyB,CAEjD,KAAM,CAAAC,kBAAmB,CACvBC,WAAWA,CAAAC,IAAA,CAAkC,IAAjC,CAAEC,IAAI,CAAEC,MAAM,CAAEC,GAAG,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACzC,IAAI,CAACG,GAAG,CAAGA,GAAG,CACd,IAAI,CAACC,QAAQ,CAAGA,QAAQ,CACxB,IAAI,CAACF,MAAM,CAAGA,MAAM,EAAI,CAAC,CAAC,CAC1B;AACA;AACA;AACA;AAEA,IAAI,CAACG,IAAI,CAAG,CACVC,KAAK,CAAE,IAAI,CAACH,GAAG,CAACI,MAAM,CAACD,KAAK,CAC5BE,OAAO,CAAE,oBACX,CAAC,CAED,GAAI,CAAC,IAAI,CAACJ,QAAQ,CAAE,CAClB,IAAI,CAACK,OAAO,CAAG,IAAI,CAACA,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC,CACxC,CAGA,IAAI,CAACC,KAAK,CAAG,CAAC,CAAC,CAEf,IAAI,CAACC,OAAO,CAAG,CAAC,CAAC,CAEjB,IAAI,CAACC,UAAU,CAAGC,SAAS,CAE3B,IAAI,CAACF,OAAO,CAACG,IAAI,CAAG,EAAE,CACtB,IAAI,CAACH,OAAO,CAACI,MAAM,CAAG,EAAE,CAExB,IAAI,CAACf,IAAI,CAAGA,IAAI,CAEhB,GAAI,CAACgB,KAAK,CAACC,OAAO,CAAC,IAAI,CAACjB,IAAI,CAACc,IAAI,CAAC,CAAE,CAClC,IAAI,CAACd,IAAI,CAACc,IAAI,CAAG,EAAE,CACnB,IAAI,CAACd,IAAI,CAACe,MAAM,CAAG,EAAE,CAErB,IAAI,CAACJ,OAAO,CAACO,eAAe,CAAG,CAAC,CAClC,CAAC,IAAM,CACL,IAAI,CAACP,OAAO,CAACO,eAAe,CAAG,IAAI,CAAClB,IAAI,CAACc,IAAI,CAACK,MAAM,CACtD,CAGF,CAEA,UAAW,CAAAC,mBAAmBA,CAAA,CAAG,CAC/B,MAAO,KAAI,CACb,CAGAZ,OAAOA,CAACa,CAAC,CAAE,CAGT,GAAIA,CAAC,CAACC,IAAI,GAAK,WAAW,EAAID,CAAC,CAACC,IAAI,GAAK,QAAQ,CAAE,CACjD,OACF,CACF,CAEA,GAAI,CAAAC,GAAGA,CAAA,CAAG,CACR,MAAO,CACLC,cAAc,CAAE,IAAI,CAACtB,GAAG,CAACI,MAAM,CAACkB,cAAc,CAC9CC,oBAAoB,CAAE,IAAI,CAACvB,GAAG,CAACI,MAAM,CAACmB,oBACxC,CAAC,CACH,CAEAC,cAAcA,CAAA,CAAG,CACf,KAAM,CAAAC,aAAa,CAAG,CACpBC,IAAI,CAAE,UAAU,CAChBlC,IAAI,eACN,CAAC,CAED,KAAM,CAAAmC,eAAe,CAAG,CACtBD,IAAI,CAAE,YAAY,CAClBlC,IAAI,eACN,CAAC,CAED,KAAM,CAAAoC,cAAc,CAAG,CACrBF,IAAI,CAAE,WAAW,CACjBlC,IAAI,eACN,CAAC,CAED,KAAM,CAAAa,OAAO,CAAGwB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAE7C,GAAI,CAAAC,oBAAoB,CAAGF,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACxDC,oBAAoB,CAACC,SAAS,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACzDF,oBAAoB,CAACG,SAAS,CAAGT,aAAa,CAACjC,IAAI,CAEnD,GAAI,CAAA2C,sBAAsB,CAAGN,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAC1DK,sBAAsB,CAACH,SAAS,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAC3DE,sBAAsB,CAACD,SAAS,CAAGP,eAAe,CAACnC,IAAI,CAEvD,GAAI,CAAA4C,qBAAqB,CAAGP,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACzDM,qBAAqB,CAACJ,SAAS,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAC1DG,qBAAqB,CAACF,SAAS,CAAGN,cAAc,CAACpC,IAAI,CAErDuC,oBAAoB,CAACM,gBAAgB,CAAC,OAAO,CAAGC,KAAK,EAAK,CAC5D,IAAI,CAACC,SAAS,CAAC,CAAC,CACd,CAAC,CAAC,CAEFJ,sBAAsB,CAACE,gBAAgB,CAAC,OAAO,CAAGC,KAAK,EAAK,CAC9D,IAAI,CAACC,SAAS,CAAC,CAAC,CACd,CAAC,CAAC,CAEFH,qBAAqB,CAACC,gBAAgB,CAAC,OAAO,CAAGC,KAAK,EAAK,CAC7D,IAAI,CAACtC,GAAG,CAACwC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACzC,GAAG,CAACwC,MAAM,CAACE,oBAAoB,CAAC,CAAC,CAAC,CAC9D,IAAI,CAACH,SAAS,CAAC,CAAC,CACjB,CAAC,CAAC,CAGClC,OAAO,CAACsC,WAAW,CAACZ,oBAAoB,CAAC,CACzC1B,OAAO,CAACsC,WAAW,CAACR,sBAAsB,CAAC,CAC3C9B,OAAO,CAACsC,WAAW,CAACP,qBAAqB,CAAC,CAE1C,MAAO,CAAA/B,OAAO,CAChB,CAEAkC,SAASA,CAAA,CAAG,CACV,IAAI,CAACzC,IAAI,CAACc,IAAI,CAACgC,OAAO,CAAC,IAAI,CAAC9C,IAAI,CAACc,IAAI,CAACiC,GAAG,CAAC,CAAC,CAAC,CAC5C,IAAI,CAACpC,OAAO,CAACG,IAAI,CAACgC,OAAO,CAAC,IAAI,CAACnC,OAAO,CAACG,IAAI,CAACiC,GAAG,CAAC,CAAC,CAAC,CAClD,IAAI,CAACC,SAAS,CAAC,CAAC,CAClB,CAEA,KAAM,CAAAC,WAAWA,CAACC,GAAG,CAAE,CACrB;AACA,GAAIA,GAAG,EAAI,CAAC,CAAE,CACZ,GAAI,IAAI,CAACvC,OAAO,CAACO,eAAe,EAAI,CAAC,CAAE,CACrC,GAAI,CAAAiC,IAAI,CAAG,KAAM,CAAA1D,IAAI,CAAC2D,IAAI,CAAC,CACzBC,KAAK,CAAE,eAAe,CACtBC,IAAI,CAAE,4BAA4B,CAClC5D,IAAI,CAAE,SAAS,CACf6D,gBAAgB,CAAE,IAAI,CACtBC,kBAAkB,CAAE,SAAS,CAC7BC,iBAAiB,CAAE,MAAM,CACzBC,iBAAiB,CAAE,iBACrB,CAAC,CAAC,CAEF,GAAIP,IAAI,CAACQ,WAAW,CAAE,CACpB,IAAI,CAAChD,OAAO,CAACO,eAAe,CAAG,CAAC,CAChC,IAAI,CAAClB,IAAI,CAACc,IAAI,CAACiC,GAAG,CAAC,CAAC,CACpB,IAAI,CAACpC,OAAO,CAACG,IAAI,CAACiC,GAAG,CAAC,CAAC,CACvB,IAAI,CAACC,SAAS,CAAC,CAAC,CAClB,CACF,CACF,CACA,GAAIE,GAAG,EAAI,CAAC,CAAE,CACZ,IAAI,CAACvC,OAAO,CAACO,eAAe,CAAG,CAAC,CAChC,IAAI,CAAC8B,SAAS,CAAC,CAAC,CAChB;AACF,CACF,CAEA,KAAM,CAAAA,SAASA,CAAA,CAAG,CAChB;AAEA,IAAK,GAAI,CAAAY,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG,IAAI,CAACjD,OAAO,CAACG,IAAI,CAACK,MAAM,CAAEyC,KAAK,EAAE,CAAE,CAC7D,IAAI,CAACjD,OAAO,CAACG,IAAI,CAAC8C,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,CACpC,CACA,IAAI,CAAClD,OAAO,CAACG,IAAI,CAAG,EAAE,CAEtB,IAAI,CAACF,UAAU,CAACwB,SAAS,CAAG,EAAE,CAE9B;AAEA,IAAK,GAAI,CAAAwB,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG,IAAI,CAACjD,OAAO,CAACO,eAAe,CAAE0C,KAAK,EAAE,CAAE,CACjE;AACA,GAAI,CAAAE,GAAG,CAAG/B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACvC8B,GAAG,CAAC5B,SAAS,CAACC,GAAG,CAAC,wBAAwB,CAAC,CAC3C2B,GAAG,CAAC5B,SAAS,CAACC,GAAG,CAAC,eAAe,CAAGyB,KAAK,CAAC,CAE1C,GAAI,CAAAG,aAAa,CAAGvE,MAAM,CAAC,CAAC,CAC5B;AACAsE,GAAG,CAACE,EAAE,CAAGD,aAAa,CAEtB,IAAI,CAACnD,UAAU,CAACiC,WAAW,CAACiB,GAAG,CAAC,CAEhC,GAAI,CAAAG,iBAAiB,CAAG,GAAI,CAAAtE,QAAQ,CAAC,CACnCuE,YAAY,CAAE,WAAW,CACzBC,MAAM,CAAEJ,aAAa,CACrBK,KAAK,CAAE,IAAI,CAACnE,MAAM,CAACmE,KAAK,CACxBpE,IAAI,CAAE,IAAI,CAACA,IAAI,CAACc,IAAI,CAAC8C,KAAK,CAAC,CAC3BzD,QAAQ,CAAE,IAAI,CAACA,QAAQ,CACvBkE,SAAS,CAAE,EACb,CAAC,CAAC,CAEF,IAAI,CAAC1D,OAAO,CAACG,IAAI,CAACwD,IAAI,CAACL,iBAAiB,CAAC,CAC3C,CACA,KAAM,KAAI,CAACM,IAAI,CAAC,CAAC,CAEnB,CAEAC,MAAMA,CAAA,CAAG,CACP;AAEA;AAGA,IAAI,CAAC5D,UAAU,CAAGmB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAC/C,IAAI,CAACpB,UAAU,CAACsB,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC,CACtC,IAAI,CAACvB,UAAU,CAACsB,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC,CAG5C;AACA;AACA;AAGC;AACA,IAAI,CAACxB,OAAO,CAACG,IAAI,CAAG,EAAE,CAAE;AACxB;AAEA;AAEA,IAAK,GAAI,CAAA8C,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG,IAAI,CAACjD,OAAO,CAACO,eAAe,CAAE0C,KAAK,EAAE,CAAE,CACjE;AACA,GAAI,CAAAE,GAAG,CAAG/B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACvC8B,GAAG,CAAC5B,SAAS,CAACC,GAAG,CAAC,wBAAwB,CAAC,CAC3C2B,GAAG,CAAC5B,SAAS,CAACC,GAAG,CAAC,eAAe,CAAGyB,KAAK,CAAC,CAC1CE,GAAG,CAAC5B,SAAS,CAACC,GAAG,QAAAsC,MAAA,CAAQb,KAAK,CAAE,CAAC,CAGjC,GAAI,CAAAG,aAAa,CAAGvE,MAAM,CAAC,CAAC,CAAG,GAAG,CAAG,OAAO,CAC5C;AACAsE,GAAG,CAACE,EAAE,CAAGD,aAAa,CAItB,GAAGH,KAAK,GAAK,CAAC,CAAE,CAGf,GAAI,CAAAK,iBAAiB,CAAG,GAAI,CAAAtE,QAAQ,CAAC,CACnCuE,YAAY,CAAE,WAAW,CACzBC,MAAM,CAAEJ,aAAa,CACrBK,KAAK,CAAE,IAAI,CAACnE,MAAM,CAACmE,KAAK,CACxBpE,IAAI,CAAE,IAAI,CAACA,IAAI,CAACc,IAAI,CAAC8C,KAAK,CAAC,CAC3BzD,QAAQ,CAAE,IAAI,CAACA,QAAQ,CACvBkE,SAAS,CAAE,CAAC,CACZK,WAAW,CAAE,cAAc,CAC3BC,QAAQ,CAAE,KAAAA,CAAOC,QAAQ,CAACpC,KAAK,GAAK,CAClC,KAAM,CAAAxC,IAAI,CAAG,KAAM,CAAA4E,QAAQ,CAACC,KAAK,CAACN,IAAI,CAAC,CAAC,CAG1C,CAEF,CAAC,CAAC,CAGF,GAAI,CAAAO,kBAAkB,CAAG,GAAI,CAAAnF,QAAQ,CAAC,CACrCuE,YAAY,CAAE,WAAW,CACzBC,MAAM,CAAEJ,aAAa,CACrBK,KAAK,CAAE,IAAI,CAACnE,MAAM,CAACmE,KAAK,CACxBpE,IAAI,CAAE,IAAI,CAACA,IAAI,CAACe,MAAM,CAAC6C,KAAK,CAAC,CAC7BzD,QAAQ,CAAE,IAAI,CAACA,QAAQ,CACvBkE,SAAS,CAAE,CAAC,CACZK,WAAW,CAAE,UAEf,CAAC,CAAC,CAEF,GAAI,CAAAK,iBAAiB,CAAG,GAAI,CAAApF,QAAQ,CAAC,CACnCuE,YAAY,CAAE,aAAa,CAC3BC,MAAM,CAAEJ,aAAa,CACrBK,KAAK,CAAE,IAAI,CAACnE,MAAM,CAACmE,KAAK,CACxBpE,IAAI,CAAE,IAAI,CAACA,IAAI,CAACe,MAAM,CAAC6C,KAAK,CAAC,CAAC,CAAC,CAC/BzD,QAAQ,CAAE,IAAI,CAACA,QAAQ,CACvBkE,SAAS,CAAE,CAEZ;AAED,CAAC,CAAC,CAID,IAAI,CAAC1D,OAAO,CAACG,IAAI,CAACwD,IAAI,CAACL,iBAAiB,CAAC,CAC1C,IAAI,CAACtD,OAAO,CAACI,MAAM,CAACuD,IAAI,CAACQ,kBAAkB,CAAC,CAC5C,IAAI,CAACnE,OAAO,CAACI,MAAM,CAACuD,IAAI,CAACS,iBAAiB,CAAC,CAC1C;AACA;AACA;AAED,CACA,GAAGnB,KAAK,GAAK,CAAC,CAAE,CAEf,GAAI,CAAAK,iBAAiB,CAAG,GAAI,CAAAtE,QAAQ,CAAC,CACnCuE,YAAY,CAAE,gBAAgB,CAC9BC,MAAM,CAAEJ,aAAa,CACrBK,KAAK,CAAE,IAAI,CAACnE,MAAM,CAACmE,KAAK,CACxBpE,IAAI,CAAE,IAAI,CAACA,IAAI,CAACc,IAAI,CAAC8C,KAAK,CAAC,CAC3BzD,QAAQ,CAAE,IAAI,CAACA,QAAQ,CACvBkE,SAAS,CAAE,CAAC,CACZK,WAAW,CAAG,YAChB,CAAC,CAAC,CAEF,IAAI,CAAC/D,OAAO,CAACG,IAAI,CAACwD,IAAI,CAACL,iBAAiB,CAAC,CAG1C,CAEA,IAAI,CAACrD,UAAU,CAACiC,WAAW,CAACiB,GAAG,CAAC,CAQhC;AACF,CACA,MAAO,KAAI,CAAClD,UAAU,CACxB,CAEA,KAAM,CAAA2D,IAAIA,CAAA,CAAG,CACX,GAAG,CAAC,IAAI,CAACpE,QAAQ,CAAC,CAGhB;AACA,IAAK,GAAI,CAAAyD,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG,IAAI,CAACjD,OAAO,CAACG,IAAI,CAACK,MAAM,CAAEyC,KAAK,EAAE,CAAE,CAC9D,KAAM,KAAI,CAACjD,OAAO,CAACG,IAAI,CAAC8C,KAAK,CAAC,CAACoB,OAAO,CACrC,GAAI,CAAAC,OAAO,CAAG,KAAM,KAAI,CAACtE,OAAO,CAACG,IAAI,CAAC8C,KAAK,CAAC,CAACW,IAAI,CAAC,CAAC,CACnD,IAAI,CAACvE,IAAI,CAACc,IAAI,CAAC8C,KAAK,CAAC,CAAGqB,OAAO,CACjC,CAEA,IAAK,GAAI,CAAArB,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG,IAAI,CAACjD,OAAO,CAACI,MAAM,CAACI,MAAM,CAAEyC,KAAK,EAAE,CAAE,CAChE,KAAM,KAAI,CAACjD,OAAO,CAACI,MAAM,CAAC6C,KAAK,CAAC,CAACoB,OAAO,CAExC,GAAI,CAAAC,OAAO,CAAG,KAAM,KAAI,CAACtE,OAAO,CAACI,MAAM,CAAC6C,KAAK,CAAC,CAACW,IAAI,CAAC,CAAC,CACrD,IAAI,CAACvE,IAAI,CAACe,MAAM,CAAC6C,KAAK,CAAC,CAAGqB,OAAO,CACnC,CAGD,CAEA,MAAO,KAAI,CAACjF,IAAI,CAClB,CAEA,UAAW,CAAAkF,OAAOA,CAAA,CAAG,CACnB,MAAO,CACLxF,IAAI,CAAE,cAAc,CACpB2D,KAAK,CAAE,OACT,CAAC,CACH,CACF,CAEA,OAASxD,kBAAkB,GAAI,CAAAsF,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}